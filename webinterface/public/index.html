<!DOCTYPE html>


<head>
    <meta charset="utf-8"/>

    <!-- Set the viewport width to device width for mobile -->
    <meta name="viewport" content="width=device-width"/>

    <title>Welcome to You.</title>

    <!-- Included CSS Files (Uncompressed) -->
    <!--
    <link rel="stylesheet" href="stylesheets/foundation.css">
    -->

    <!-- Included CSS Files (Compressed) -->
    <link rel="stylesheet" href="stylesheets/foundation.css">
    <link rel="stylesheet" href="stylesheets/app.css">
    <!--<link rel="stylesheet" href="stylesheets/style.css">-->

    <script src="socket.io/socket.io.js"></script>
    <!--<script src="javascripts/jquery-1.4.3.min.js"></script>-->
    <script src="javascripts/jquery-1.4.3.min.js"></script>
    <script src="javascripts/modernizr.foundation.js"></script>

    <!-- For HighCharts charting Engine -->
    <!-- Currently abandoned in favor of simpler smoothie-->
    <script src="javascripts/jquery.flot.js"></script>

    <!-- For SmoothieCharts -->
    <script src="javascripts/smoothie.js"></script>
</head>
<body>

<div class="container top-bar home-border">
    <div class="attached">
        <div class="left">
        <div class="name">
            <h2 style="color:white">Hello!</h2><!--<a href="http://foundation.zurb.com">Foundation</a>-->
        </div>
        </div>

        <ul class="right">
            <li>
                <a href="templates.php">The Product</a>
            </li>
            <li>
                <a href="temp">The Goals</a>
            </li>
            <li>
                <a href="docs">Build18</a>
            </li>
            <li>
                <a href="http://github.com/msebek">GitHub</a>
            </li>
            <li class="download"><a class="small blue nice button src-download" href="download.php">Download</a></li>
        </ul>
    </div>
</div>

<div class="row">
    <div class="twelve columns">
        <h2>This is you.</h2>
    </div>
</div>
<div class="row">
    <div class="eight columns">
        <div class="row">
            <div class="three columns">
                <div class="panel">
                    <div class="title" id="content">Borked!</div>

                    <!--<script type="text/javascript">
                        var smoothie = new SmoothieChart();
                        smoothie.streamTo(document.getElementById("mycanvas"), 1000 /*Delay!*/);
                        // Data
                        var line1 = new TimeSeries();

                        // Add a random value to each line every second
                        setInterval(function() {
                            line1.append(new Date().getTime(), Math.random());
                        }, 750);

                        // Add to SmoothieChart
                        smoothie.addTimeSeries(line1);

                    </script>-->
                    <script>
                        $(document).ready(function () {
                            //var socket = new io.Socket('128.237.119.135', {port: 3000, rememberTransport: false/*, transports: ['xhr-polling']*/});
                            var socket = io.connect('localhost', {port:3000, rememberTransport:false});
                            //var socket = io.connect('128.237.119.135', {port: 3000, rememberTransport: false});
                            var content = $('#content');

                            // Set up chart
                            var smoothie = new SmoothieChart();
                            smoothie.streamTo(document.getElementById("mycanvas"), 750);
                            var line1 = new TimeSeries();
                            smoothie.addTimeSeries(line1);

                            socket.on('connect', function () {
                                console.log('connected');
                                content.html("<b>Connected!</b>");

                            });

                            socket.on('message', function (message) {
                                //content.replaceAll(message);
                                content.html("<h1>" + message + "</h1>");
                                line1.append(new Date().getTime(), message);
                            });

                            socket.on('disconnect', function () {
                                console.log('disconnected');
                                content.html("<b>Disconnected!</b>");
                            });

                        });
                    </script>
                </div>
            </div>

            <div class="nine column">
                <div class="panel">
                    <div id="smoothieChart" style="width:600px;height:300px;">
                        <canvas id="mycanvas" width=400px height=300px></canvas>
                    </div>
                </div>
            </div>


        </div>
    </div>


    <!--<div class="four columns">


    </div>-->
    <div class="four columns">
        <h4>Getting Started</h4>

        <p>We're stoked you want to try Foundation! To get going, this file (index.html) includes some basic styles you
            can modify, play around with, or totally destroy to get going.</p>

        <h3>Tabs</h3>
        <dl class="tabs">
            <dd class="active"><a href="#simple1">Simple Tab 1</a></dd>
            <dd><a href="#simple2">Simple Tab 2</a></dd>
            <dd><a href="#simple3">Simple Tab 3</a></dd>
        </dl>

        <ul class="tabs-content">
            <li class="active" id="simple1Tab">This is simple tab 1's content. Pretty neat, huh?</li>
            <li id="simple2Tab">This is simple tab 2's content. Now you see it!</li>
            <li id="simple3Tab">This is simple tab 3's content. It's, you know...okay.</li>
        </ul>
    </div>
</div>


<!--<div class="row">
    <div class="twelve columns">
        <h3>Orbit</h3>

        <div id="featured">
            <img src="holder.js/1200x250/text:Slide_1" alt="slide image">
            <img src="holder.js/1200x250/text:Slide_2" alt="slide image">
            <img src="holder.js/1200x250/text:Slide_3" alt="slide image">
        </div>
    </div>
</div>-->


<!--<div class="row">
    <div class="twelve columns">
        <h3>Reveal</h3>

        <p><a href="#" data-reveal-id="exampleModal" class="button">Example modal</a></p>
    </div>
</div>-->

<div id="exampleModal" class="reveal-modal">
    <h2>This is a modal.</h2>

    <p>
        Reveal makes these very easy to summon and dismiss. The close button is simple an anchor with a unicode
        character icon and a class of <code>close-reveal-modal</code>. Clicking anywhere outside the modal will
        also dismiss it.
    </p>
    <a class="close-reveal-modal">Ã—</a>
</div>


<!-- Included JS Files (Uncompressed) -->
<!--
<script src="javascripts/jquery.js"></script>
<script src="javascripts/jquery.foundation.mediaQueryToggle.js"></script>
<script src="javascripts/jquery.foundation.forms.js"></script>
<script src="javascripts/jquery.event.move.js"></script>
<script src="javascripts/jquery.event.swipe.js"></script>
<script src="javascripts/jquery.foundation.reveal.js"></script>
<script src="javascripts/jquery.foundation.orbit.js"></script>
<script src="javascripts/jquery.foundation.navigation.js"></script>
<script src="javascripts/jquery.foundation.buttons.js"></script>
<script src="javascripts/jquery.foundation.tabs.js"></script>
<script src="javascripts/jquery.foundation.tooltips.js"></script>
<script src="javascripts/jquery.foundation.accordion.js"></script>
<script src="javascripts/jquery.placeholder.js"></script>
<script src="javascripts/jquery.foundation.alerts.js"></script>
<script src="javascripts/jquery.foundation.topbar.js"></script>
<script src="javascripts/jquery.foundation.joyride.js"></script>
<script src="javascripts/jquery.foundation.clearing.js"></script>
<script src="javascripts/jquery.foundation.magellan.js"></script>

-->

<!-- Included JS Files (Compressed) -->
<script src="javascripts/foundation.min.js"></script>

<!-- Initialize JS Plugins -->
<script src="javascripts/app.js"></script>


<!--<script>
    $(window).load(function () {
        $("#featured").orbit();
    });
</script>-->

</body>
<footer>
    <!-- Below is for smoothiechart -->
    <!--    <script type="text/javascript">
            var smoothie = new SmoothieChart();
            smoothie.streamTo(document.getElementById("mycanvas"), 1000 /*Delay!*/);
            // Data
            var line1 = new TimeSeries();

            // Add a random value to each line every second
            setInterval(function() {
                line1.append(new Date().getTime(), Math.random());
            }, 750);

            // Add to SmoothieChart
            smoothie.addTimeSeries(line1);

        </script>-->

    <!-- Below is for HighChart -->
    <script type="text/javascript">
        //$(document).ready(function() {
        $(function () {
            // we use an inline data source in the example, usually data would
            // be fetched from a server
            var data = [], totalPoints = 300;

            function getRandomData() {
                if (data.length > 0)
                    data = data.slice(1);

                // do a random walk
                while (data.length < totalPoints) {
                    var prev = data.length > 0 ? data[data.length - 1] : 50;
                    var y = prev + Math.random() * 10 - 5;
                    if (y < 0)
                        y = 0;
                    if (y > 100)
                        y = 100;
                    data.push(y);
                }

                // zip the generated y values with the x values
                var res = [];
                for (var i = 0; i < data.length; ++i)
                    res.push([i, data[i]])
                return res;
            }

            // setup control widget
            var updateInterval = 30;
            $("#updateInterval").val(updateInterval).change(function () {
                var v = $(this).val();
                if (v && !isNaN(+v)) {
                    updateInterval = +v;
                    if (updateInterval < 1)
                        updateInterval = 1;
                    if (updateInterval > 2000)
                        updateInterval = 2000;
                    $(this).val("" + updateInterval);
                }
            });

            // setup plot
            var options = {
                series:{ shadowSize:0 }, // drawing is faster without shadows
                yaxis:{ min:0, max:100 },
                xaxis:{ show:false }
            };
            var plot = $.plot($("#placeholder"), [ getRandomData() ], options);

            function update() {
                plot.setData([ getRandomData() ]);
                // since the axes don't change, we don't need to call plot.setupGrid()
                plot.draw();

                setTimeout(update, updateInterval);
            }

            update();
        });
    </script>
</footer>
</html>
